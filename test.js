/*
В условии есть несостыковка: указано, что последовательность имеет вид 0,1,2,3...N, но в примерах имеем [7, 9,10, 11, 12].
Поэтому были выделены некоторые условия - последовательность может:
1. начинаться не с 0;
2. иметь отрицательные значения;
3. иметь дублирующиеся числа;
4. иметь несколько пропусков;
5. не иметь пропусков;
6. быть пустой;
7. иметь один элемент.

Так как может быть несколько пропусков и дублирующиеся числа вариант решения через Math.min(), Math.max() и разницу реальной суммы элементов с ожидаемой нам не подходит. (Сложность O(n))

Таким образом, изначально необходимо отсортировать последовательность O(n logn). И линейно пройтись по массиву O(n).
Итоговая сложность алгоритма получается O(n logn).

Также, так как последовательность может быть с отрицательными значениями, пропущенным числом может являться 0. Поэтому при отсутствии пропуска возвращаем null.
*/

/**
 *  Функция для проверки равенства значений и вывода результата в консоль
 *  @param {number[]} исходный массив.
 *  @param {number} ожидаемый результат.
 *  @param {string} название теста.
 */
function assertEqual(actual, expected, testName) {
  if (actual === expected) {
    console.log(`PASSED: ${testName}`);
  } else {
    console.log(`FAILED: ${testName}. Expected ${expected}, but got ${actual}`);
  }
}

// Тесты для функции findMissingNumber
function testFindMissingNumber() {
  assertEqual(findMissingNumber([5, 0, 1, 3, 2]), 4, "Массив с минимальным элементом 0");
  assertEqual(findMissingNumber([7, 9, 10, 11, 12]), 8, "Массив с минимальным элементом 7");
  assertEqual(findMissingNumber([-3, 0, 1, 2]), -2, "Массив с отрицательными значениями");
  assertEqual(findMissingNumber([5, 0, 1, 3, 2, 2]), 4, "Массив с дублирующимися элементами");
  assertEqual(findMissingNumber([6, 0, 3, 2]), 1, "Массив с несколькими пропусками");
  assertEqual(findMissingNumber([3, 4, 0, 1, 2]), null, "Массив без пропуска");
  assertEqual(findMissingNumber([]), null, "Пустой массив");
  assertEqual(findMissingNumber([1]), null, "Массив с одним элементом");
}

/**
 *  Функция поиска первого пропущенного числа в массиве
 *  @param {number[]} исходный массив.
 *  @returns {number} пропущенное чило либо null в случае отсутствия пропуска.
 */
function findMissingNumber(arr) {

  // Сортировка
  arr.sort((a, b) => a - b);

  // Поиск пропуска
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] !== i + arr[0] && arr[i] !== arr[i - 1]) {
      return i + arr[0];
    }
  }
  return null;
}

// Запуск тестов
testFindMissingNumber();
